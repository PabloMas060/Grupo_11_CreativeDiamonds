<!DOCTYPE html>
<html>
  <%- include('partials/header') %>

  <%- include('partials/head', { title: 'Actualizar Perfil de Usuario' }) %>
<body>
  <header>
    <h1>Actualizar Perfil de Usuario</h1>
  </header>
  <div class="container">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <form id="profile-form" action="/users/edit-profile/<%= user.id %>?_method=PUT" method="POST">

          <div class="form-group">
            <label for="first_name">Nombre</label>
            <input type="text" class="form-control" id="first_name" name="first_name" value="<%= user.first_name %>">
            <small class="ms-2 text-danger" id="msgError-first_name"><%= locals.errors && (errors.user.first_name && errors.user.first_name.msg) %></small>
          </div>


          <div class="form-group">
            <label for="last_name">Apellido</label>
            <input type="text" class="form-control" id="last_name" name="last_name" value="<%= user.last_name %>">
            <small class="ms-2 text-danger" id="msgError-last_name"><%= locals.errors && (errors.user.last_name && errors.user.last_name.msg) %></small>
          </div>



          <div class="form-group">
            <label for="nick_name">Nombre de Usuario</label>
            <input type="text" class="form-control" id="nick_name" name="nick_name" value="<%= user.nick_name %>">
            <small class="ms-2 text-danger" id='msgError-nick_name'><%= locals.errors && (errors.user.nick_name && errors.user.nick_name.msg) %></small>
          </div>


          <div class="form-group">
            <label for="state">Estado</label>
            <input type="text" class="form-control" id="state" name="state" value="<%= user.state %>">
            <small class="ms-2 text-danger" id="msgError-state"></small>
          </div>


          <div class="form-group">
            <label for="about">Acerca de Mi</label>
            <textarea class="form-control" id="about" name="about"><%= user.about %></textarea>
            <small class="ms-2 text-danger" id="msgError-about"></small>

          </div>


          <div class="form-group">
            <label for="identificator">Identificador</label>
            <select class="form-control" id="identificator" name="identificator">
                <option value="<%= user.identificator ? user.identificator.id : '' %>">
                    <%= user.identificator ? user.identificator.nombre : 'Selecciona un Identificador' %>
                </option>
                <option value="1">Hombre</option>
                <option value="2">Mujer</option>
                <option value="3">No mostrar</option>
            </select>
          </div>


          <div class="form-group">
            <label for="address">Dirección</label>
            <input type="text" class="form-control" id="address" name="address" value="<%= user.address ? user.address.address : '' %>">
          </div>
        
          <div class="form-group">
            <label for="country">País</label>
            <input type="text" class="form-control" id="country" name="country" value="<%= user.address ? user.address.country : '' %>">
          </div>
        


          <div class="form-group">
            <label for="province">Provincia</label>
              <select id="province" class="form-control" name="province" >
                  <option selected hidden>Elija la provincia...</option>
              </select>
          </div>
          
          
          <div class="form-group">
            <label for="city">Ciudad</label>
            <select id="city" class="form-control" name="city" disabled>
              <option selected hidden>Elija la localidad...</option>
            </select>
          </div>
        

        
        <div class="form-group">
            <label for="zipcode">Código Postal</label>
            <input type="text" class="form-control" id="zipcode" name="zipcode" value="<%= user.address ? user.address.zipcode : '' %>">
            <small class="ms-2 text-danger" id="msgError-zipcode"><%= locals.errors && (errors.user.zipcode && errors.user.zipcode.msg) %></small>
        </div>
        
        
          <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Pie de página -->
  <%- include('partials/footer') %>

  <script src="/javascripts/validationProfile.js"></script>

</body>
</html>
